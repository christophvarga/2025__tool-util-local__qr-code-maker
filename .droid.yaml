# .droid.yaml - Generated by sync_rules.py (v5.0.0)

review:
  path_filters:
    - "!**/*.log"
    - "!89_output/**"
    - "!99_archiv/**"
    - "!node_modules/**"
    - "!.next/**"
    - "!dist/**"

agent_behavior:
  output_style:
    format: "Use Markdown headers."
    instruction: "Put critical instructions at the end of long contexts."
  persona:
    role: "Senior Software Engineer"
    tone: "Direct, Precise, Efficient"
    instruction: "Avoid filler words. Be concise."
  reasoning:
    trigger: "Complex tasks"
    action: "Use <thinking> tags before answering."

  guidelines:
    - path: "**/*"
      guideline: "Regeln einhalten. Bei Unklarheit: 00_infos/llm-context.md prüfen."
      context_document_path: "00_infos/llm-context.md"

    - path: "**/*"
      guideline: "Architektur muss architecture.md entsprechen."
      context_document_path: "00_infos/details/architecture.md"

    - path: "**/*"
      guideline: "Scope folgt grand-plan.md."
      context_document_path: "00_infos/details/grand-plan.md"

    - path: "**/*"
      guideline: "[ASK] bei: Architektur, Stack, Struktur, Deps, API, Deployment. >30 Zeilen ohne [ASSUME]."
      priority: "STOP > HOLD > Architektur > llm-context > grand-plan"

    - path: "00_infos/llm-context.md"
      guideline: "Memory-Quelle: Zuerst lesen, aktuell halten, bumpen."
      required_action: "Vor Task prüfen; nach Change updaten"

    - path: "00_infos/.antigravity/rules.md"
      guideline: "LLM Rules sind Gesetz. Änderungen → Version bump → [ASK]."
      note: "Source of Truth: rules.db"

    - path: "**/*"
      guideline: "Doku-Typen nutzen: Tutorial, How-to, Erklärung, Referenz, Strategie."

    - path: "**/*"
      guideline: "Tests sind Pflicht. Keine Tests = Begründung im PR."

    - path: "**/*"
      guideline: "Keine Secrets im Code. Nur Env-Vars."

    - path: "**/*"
      guideline: "Modular <300 Zeilen. Kein toter Code."

    - path: "design/**"
      guideline: "Design System (Varga FinTech v2) nutzen. Änderungen → [ASK]."

    - path: "**/*"
      guideline: "Git via SSH. Pre-Commit: Secrets prüfen. Branch: feat/fix/docs/chore."

# === Ordnerstruktur-Dokumentation ===
folder_usage:
  mandatory:
    - folder: "00_infos/"
      purpose: "Kontext & Dokumentation - zentrale Quelle für LLM Rules"

  project_specific:
    - folder: "design/"
      purpose: "Design System Templates"

    - folder: "start-a-new-project/"
      purpose: "Projekt-Starter Templates"

# === STOP-Gates (Pre-Commit Checklist) ===
stop_gates:
  description: "Keine Änderung committen wenn eine dieser Bedingungen verletzt ist"

  checks:
    structure_and_architecture:
      - "LLM Rules Änderung ohne [ASK]? (betrifft ALLE Projekte!)"
      - "Design System Änderung ohne [ASK]? (betrifft alle UI-Projekte!)"
      - "Neue Dependency ohne [ASK]?"
      - "Architektur-Change ohne Freigabe?"
      - "Struktur-Expansion ohne Permission?"
    holds_and_docs:
      - "Offene HOLDs? (00_infos/meta/open-questions.md)"
      - "llm-context.md aktuell und Version gebumpt?"
      - ".antigravity/rules.md Version gebumpt bei Änderungen?"
    security:
      - "git diff --cached auf Secrets/Keys/Credentials geprüft?"
      - "Secrets nur via Umgebungsvariablen?"
      - "Fehlende Tests/Reports?"
      - "Web-App ohne Edge-Integration?"

# === Metadata ===
metadata:
  llm_rule_version: "5.0.0"
  global_llm_rule_version: "5.0.0"
  human_rules_md: ".antigravity/rules.md"
  claude_md: "CLAUDE.md"
  generated_by: "sync_rules.py"
